---
sidebar_position: 1
---
# Host Discovery and Service Enumeration

## Network Scanning

Host discovery
For nmap, sometimes hosts are configured to block ping scanning. Use `-Pn` flag for this.
```bash
# Quickly ping hosts in subnet with (nmap is slower):
time for i in $(seq 1 254); do (ping -c 1 10.120.15.${i} | grep "bytes from" &); done;

# Quick scan to see if hosts are up
nmap -sn 10.11.1.1-254

# Scan network for hosts with particular port open
nmap -Pn -p<port> <target networks>

# For large networks use masscan
sudo masscan -p80 10.11.1.0/24 --rate=1000 -e tap0 --router-ip 10.11.0.1 
```


For regular TCP scans:
```bash
# Scan all ports to filter out closed ones
nmap -sS -p- --min-rate 3000 <IP>

# Scan version, OS, and nse on open ports. For example if 80,443,139,445 were open:
nmap -sSCV -p<open ports> <IP>

# Scan for vulns on specific ports
nmap -Pn -p<port> --script vuln 10.10.10.4
```

Scan UDP:
```bash
nmap -sU -p- --min-rate 3000 -oA nmap/alludp 10.10.10.105
```

Notes:
* SYN scan(-sS) needs root privs! Add sudo if necessary. Connect scan(-sT) doesn't.
* When scanning with port forwarding or other tunnels, such as with `proxychains`, use `-sT` because SOCKS proxy can't use SYN scan and `-Pn` because ICMP is blocked!

